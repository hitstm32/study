当页的粒度为4k，那管理4GB内存就需要2^20个页表项，需要4M内存，如果系统中有100个进程，那就需要400M内存来存储页表项！
实际上大部分逻辑空间用不到，所以大部分页表项不会被使用到。所以就可以有简单的想法：**用到的逻辑页才有页表项**
* 每次使用某个页表，无法进行直接偏移寻址了，需要进行查找，很慢。
* 查找需要多次访问内存，更慢
这就导致了页号必须要连续，就算没用，也要占据位置。
**使用多级页表**，让页表即连续，使用内存又小。相当于书的多级目录，使用**页目录表（章）+页表（节）**
![[Pasted image 20240326164420.png]]
这样只需要驻留存储页目录表就可以了，每个页目录表可以寻址1024个页表项，也就是4M内存，如果4M不够，就再构建一个目录，添加1024项页表项。每个目录指向的页表都是连续的，所以可以直接寻址。**但是由于多级页表增加了访存，相当于牺牲了时间换空间，如果是64位系统，页表级数会很多，导致访存此说很多**，这个问题使用**快表TLB**解决。快表存储了最近经常使用的页，与页框号的对应，可以通过一次查找直接找到，提高了页寻址速度。
![[Pasted image 20240326165533.png]]
快表由寄存器实现，由硬件自动实现，软件是无感知的。
![[Pasted image 20240326170027.png]]
![[Pasted image 20240326170050.png]]
可见，TLB可以有效提高效率。TLB越大效率越高，但是寄存器贵。通常位于64-1024之间，太大的话，对效率提升就不大了，原因是程序的地址访问存在**局部性**。
用户眼里磁盘是一堆有组织的文件。

## 第四层抽象--抽象整个磁盘--文件系统
### 方案1：
![[Pasted image 20240401204731.png]]
每个节点都是一个FCB（inode），组成一个目录树。例如data节点里存放了a和data的FCB，这样就可以通过data找到a和data，但是这样有问题，如果想访问`/my/data/a`来定位a文件，那就需要通过字符串来索引，data的inode，my的inode，很慢。文件自己的名字都存在自己的inode里，所以需要一个一个读出来匹配，还需要把my目录下的所有信息都读进来，太慢了。
### 解决：
存放一个FCB数组，每个数组项中存放name和FCB序号，这样每次只需要读入FCB数组，即可进行字符串匹配，匹配成功后，利用对应索引找到文件对应的FCB即可。
![[Pasted image 20240401210406.png]]
总结：首先根目录必须固定好（格式化磁盘），然后在根目录下，存放着FCB数组和数据盘块，读入FCB数组进行字符串匹配，从而索引FCB对应盘块，从而找到对应的下级目录，然后重复这个过程即可。
![[Pasted image 20240401211143.png]]
超级块存放了i节点位图和盘块位图分别在哪，占多大区域。所谓mount就是找到超级块，找到超级块之后就可以找到/的inode，就可以把整颗目录树“提起来”了。

## 总结：
![[Pasted image 20240401211434.png]]

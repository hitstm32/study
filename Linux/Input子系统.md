![[Pasted image 20240423161756.png]]
input子系统提供了一种统一的框架，来对输入设备进行处理。
* 为不同输入设备提供统一的接口，使设备驱动程序能于内核进行交互，对于各种不一样的设备都可以支持
* 用户层可以使用统一接口读取数据
* 管理输入事件，把事件传递到用户空间
输入设备的节点位于`/dev/input/event`，可以通过访问这些节点来获取输入。通过`cat /proc/bus/input/devices`可以获取更详细的信息：
![[Pasted image 20240423194303.png]]
* I:id
* N:name
* P:设备物理路径
* S:位于文件系统中的路径
* U:设备唯一标识码
* H:与设备关联的输入句柄
* B:位图
其中位图显示了设备的能力
![[Pasted image 20240423194916.png]]
例如EV=b就是EV=1011，表示该设备支持0，1，3三种事件。

输入事件的格式，就是一个个如下结构体：
![[Pasted image 20240423195210.png]]
读取输入设备得到的就是以上结构体。
## input子系统框架
![[Pasted image 20240531181147.png]]
![[Pasted image 20240531203717.png]]
分配注册input_dev，我们要使用的是KEY，填写对应位图。